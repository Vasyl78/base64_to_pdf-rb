#!/usr/bin/env ruby
# frozen_string_literal: true

require 'base64'

input_filename = ARGV[0].to_s
output_filename = ARGV[1].to_s
output_filename = 'default.pdf' if output_filename.empty?

puts 'Read input data............'
base64_string = File.read(File.join(File.expand_path(__dir__), 'inputs', input_filename))

puts 'Write pdf data to file ....'
binary_data = Base64.decode64(base64_string)

File.binwrite(File.join(File.expand_path(__dir__), 'outputs', output_filename), binary_data)
puts 'File generated ......'
puts File.join('outputs', output_filename)
